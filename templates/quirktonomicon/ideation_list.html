{% extends "base.html" %}
<html>
  {% block head %}
    <title></title>
    <meta content="Quirktonomicon Inventions List">
    <style></style>
  {% endblock head %}  
  {% block body %}
  <h2>Invention Ideas</h2>
  
  <div id="navigation">
      {% if is_paginated %}
        <div class="pagination">
            <span class="page-links">
                {% if page_obj.has_previous %}
                    <a href="/ideas?page={{ page_obj.previous_page_number }}">previous</a>
                {% endif %}
                <span class="page-current">
                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                </span>
                {% if page_obj.has_next %}
                    <a href="/ideas?page={{ page_obj.next_page_number }}">next</a>
                {% endif %}
            </span>
        </div>
    {% endif %}
  </div>
  <div id="content">
  <div id="idea_list">
  <table>
  
  <tr>
    <th>
      Title
    </th>
    <th>
      Vote count
    </th>
    <th>
      Expires at
    </th>    
    <th>
      User
    </th>
    <th>
      View on Quirky
    </th>
    <th>
      Vote
    </th>
    </tr>
  {% for invention in object_list %}
  <tr id="{{ invention.idea_id }}">
    <td>
    <a href={{ invention.get_absolute_url }}>{{ invention.title }}</a>
    </td>
    <td>
    {{ invention.votes_count }}
    </td>
    <td>
    {{ invention.expires_at }}
    </td>    
    <td>
    <a href="http://www.quirky.com/user/{{ invention.user_id }}">{{ invention.user_id }}</a>
    </td> 
    <td>
    <a href="http://www.quirky.com/invent/{{ invention.id }}">View</a>
    </td> 
    <td>
    <a href="javascript:$.post('http://www.quirky.com/api/v2/ideations/{{ invention.id }}/votes')">Vote</a>
    </td> 
    </tr>
  {% endfor %}
  </table>
  </div>
  <div id="idea_info">
  <div id="idea_details">
  <div class="loading">Loading plot...</div>
  <div id="votes_plot" ></div>
  </div>
 
  <!--
  <iframe id="quirky_frame" src="http://www.quirky.com"></iframe>
  -->
  </div>
  {% endblock body %}